(function(){"use strict";var t={},e=function(t){return!!t&&"function"==typeof t&&Object.prototype.toString.call(t)==="[object Function]"},a=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Array]"},i=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Arguments]"},n=function(e){if(i(e)&&e[0]&&e[1])return new t.KeyValuePair(e[0],e[1]);if(i(e)||a(e)){if(e.length==1&&e[0]instanceof t.KeyValuePair)return e[0];if(e[0]&&e[0].key&&e[0].value)return new t.KeyValuePair(e[0].key,e[0].value)}if(e&&e.key&&e.value)return new t.KeyValuePair(e.key,e.value);throw Error("Wrong arguments passed to getKeyValuePair. Pass either one KeyValuePair XOR (one key AND one value) XOR {key, value}. Data passed: "+JSON.stringify(e))},r=function(t){var e=[];return t.length>1?e=Array.prototype.slice.call(t,0):t.length==1&&(e=a(t[0])?t[0].slice(0):[t[0]]),e},u=function(t,a){var i;if(!e(a))throw TypeError("The supplied callback is not a function.");do i=t.call(this),a.call(this,i);while(i)};t.KeyValuePair=function(e,a){var i=Object.create(null);if(e&&a)i.key=e,i.value=a;else{if(!e||a)throw Error("ds.KeyValuePair :: ctor -> Invalid arguments.");i=e}return this.key=i.key,this.value=i.value,this instanceof t.KeyValuePair?void 0:new t.KeyValuePair(e,a)},t.KeyValuePair.prototype=Object.create(null,{equal:{value:function(e){return e instanceof t.KeyValuePair?this.key===e.key&&this.value===e.value:!1},enumerable:!1,writable:!1,configurable:!1}}),t.Dictionary=function(){this.data=[];for(var e=0,a=arguments.length;a>e;e++){var i=arguments[e];this.add(n(i))}if(!(this instanceof t.Dictionary)){var r=Object.create(t.Dictionary.prototype);return t.Dictionary.apply(r,arguments),r}},t.Dictionary.prototype=Object.create(null,{find:{value:function(t,a){var i=function(){for(var e=0,a=this.data.length;a>e;e++)if(this.data[e].key===t)return[this.data[e],e]}.call(this);if(i){if(!e(a))return i[0];a.call(this,i[0],i[1])}}},get:{value:function(t){var e=this.find(t);return e?e.value:void 0}},set:{value:function(){var t=n(arguments),e=this.find(t.key);return e?(e.value=t.value,e):void 0}},put:{value:function(){var t=n(arguments);this.get(t.key)?this.set(t.key,t.value):this.add(t)}},add:{value:function(e){if(!(e instanceof t.KeyValuePair))throw TypeError("Parameter is not of type ds.KeyValuePair.");if(this.get(e.key))throw Error("The key: `"+e.key+"` already exists in this Dictionary");this.data.push(e)}},remove:{value:function(t,a){this.find(t,function(t,i){this.data.splice(i,1),e(a)&&a.call(this,t)})}},keys:{get:function(){return this.data.map(function(t){return t.key})}},values:{get:function(){return this.data.map(function(t){return t.value})}},each:{value:function(t){for(var e=0,a=this.data.length;a>e;e++)t.call(this,this.data[e])}},count:{get:function(){return this.data.length}},toString:{value:function(){return JSON.stringify(this.data)}}}),t.Tuple=function(e){if(!e)throw Error("Invalid arguments");if("number"!=typeof e||1>e)throw Error("Limit must be a number above 0.");this.limit=e,this.data=[];var a=Array.prototype.slice.call(arguments,0);Array.prototype.shift.call(arguments);var i=r(arguments);if(i.length>e)throw Error(["Too many objects! Number supplied: [",i.length,"], limit: [",e,"]."].join(""));if(this.data=i,!(this instanceof t.Tuple)){var n=Object.create(t.Tuple.prototype);return t.Tuple.apply(n,a),n}};var o=function(t,e){return Error("Index is out of bounds: "+t+" > "+e+".")};t.Tuple.prototype=Object.create(null,{count:{get:function(){return this.data.length}},add:{value:function(t){if(!(this.count<this.limit))throw Error("This Tuple has reached it's limit ["+this.limit+"].");this.data.push(t)}},get:{value:function(t){if(t<this.limit)return this.data[t];throw o(t,this.limit)}},put:{value:function(t,e){if(!(t<this.limit))throw o(t,this.limit);this.data[t]=e}}}),t.Stack=function(){if(this.data=r(arguments),!(this instanceof t.Stack)){var e=Object.create(t.Stack.prototype);return t.Stack.apply(e,arguments),e}},t.Stack.prototype=Object.create(null,{push:{value:function(t){this.data.push(t)}},pop:{value:function(){return this.data.pop()}},peek:{get:function(){return this.data[this.data.length-1]}},deplete:{value:function(t){u.call(this,this.pop,t)}}}),t.Queue=function(){if(this.data=r(arguments),!(this instanceof t.Queue)){var e=Object.create(t.Queue.prototype);return t.Queue.apply(e,arguments),e}},t.Queue.prototype=Object.create(null,{enq:{value:function(t){this.data.push(t)}},deq:{value:function(){return this.data.shift()}},peek:{get:function(){return this.data[0]}},deplete:{value:function(t){u.call(this,this.deq,t)}}}),"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"==typeof ender&&(this.ds=t),"function"==typeof define&&define.amd&&define("ds",[],function(){return t})}).call(this);