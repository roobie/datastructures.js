(function(){"use strict";var t,e,n,i,a,r,u,o={};t=function(t){return!!t&&"function"==typeof t&&Object.prototype.toString.call(t)==="[object Function]"},e=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Array]"},n=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Arguments]"},i=function(t){if(n(t)&&t[0]&&t[1])return new o.KeyValuePair(t[0],t[1]);if(n(t)||e(t)){if(t.length===1&&t[0]instanceof o.KeyValuePair)return t[0];if(t[0]&&t[0].key&&t[0].value)return new o.KeyValuePair(t[0].key,t[0].value)}if(t&&t.key&&t.value)return new o.KeyValuePair(t.key,t.value);throw new Error("Wrong arguments passed to getKeyValuePair. Pass either one KeyValuePair XOR (one key AND one value) XOR {key, value}. Data passed: "+JSON.stringify(t))},a=function(t){var n=[];return t.length>1?n=Array.prototype.slice.call(t,0):t.length===1&&(n=e(t[0])?t[0].slice(0):[t[0]]),n},r=function(e,n){var i=e.call(this);if(!t(n))throw new TypeError("The supplied callback is not a function.");for(;i;)n.call(this,i),i=e.call(this)},u=function(t,e){return new Error("Index is out of bounds: "+t+" > "+e+".")},o.KeyValuePair=function(t,e){var n=Object.create(null);if(t&&e)n.key=t,n.value=e;else{if(!t||e)throw new Error("ds.KeyValuePair :: ctor -> Invalid arguments.");n=t}return this.key=n.key,this.value=n.value,this instanceof o.KeyValuePair?void 0:new o.KeyValuePair(t,e)},o.KeyValuePair.prototype=Object.create(null,{equal:{value:function(t){return t instanceof o.KeyValuePair?this.key===t.key&&this.value===t.value:!1},enumerable:!1,writable:!1,configurable:!1}}),o.Dictionary=function(){var t,e,n,a;for(this.data=[],t=0,e=arguments.length;e>t;t+=1)n=arguments[t],this.add(i(n));return this instanceof o.Dictionary?void 0:(a=Object.create(o.Dictionary.prototype),o.Dictionary.apply(a,arguments),a)},o.Dictionary.prototype=Object.create(null,{find:{value:function(e,n){var i,a;if(a=function(){var t,n;for(t=0,n=this.data.length;n>t;t+=1)if(this.data[t].key===e)return[this.data[t],t]},i=a.call(this)){if(!t(n))return i[0];n.call(this,i[0],i[1])}}},get:{value:function(t){var e=this.find(t);return e?e.value:void 0}},set:{value:function(){var t=i(arguments),e=this.find(t.key);return e?(e.value=t.value,e):void 0}},put:{value:function(){var t=i(arguments);this.get(t.key)?this.set(t.key,t.value):this.add(t)}},add:{value:function(t){if(!(t instanceof o.KeyValuePair))throw new TypeError("Parameter is not of type ds.KeyValuePair.");if(this.get(t.key))throw new Error("The key: `"+t.key+"` already exists in this Dictionary");this.data.push(t)}},remove:{value:function(e,n){this.find(e,function(e,i){this.data.splice(i,1),t(n)&&n.call(this,e)})}},keys:{get:function(){return this.data.map(function(t){return t.key})}},values:{get:function(){return this.data.map(function(t){return t.value})}},each:{value:function(t){var e,n;for(e=0,n=this.data.length;n>e;e+=1)t.call(this,this.data[e])}},count:{get:function(){return this.data.length}},toString:{value:function(){return JSON.stringify(this.data)}}}),o.Tuple=function(t){var e,n,i;if(!t)throw new Error("Invalid arguments");if("number"!=typeof t||1>t)throw new Error("Limit must be a number above 0.");if(this.limit=t,this.data=[],e=Array.prototype.slice.call(arguments,0),Array.prototype.shift.call(arguments),n=a(arguments),n.length>t)throw new Error(["Too many objects! Number supplied: [",n.length,"], limit: [",t,"]."].join(""));return this.data=n,this instanceof o.Tuple?void 0:(i=Object.create(o.Tuple.prototype),o.Tuple.apply(i,e),i)},o.Tuple.prototype=Object.create(null,{count:{get:function(){return this.data.length}},add:{value:function(t){if(!(this.count<this.limit))throw new Error("This Tuple has reached it's limit ["+this.limit+"].");this.data.push(t)}},get:{value:function(t){if(t<this.limit)return this.data[t];throw u(t,this.limit)}},put:{value:function(t,e){if(!(t<this.limit))throw u(t,this.limit);this.data[t]=e}}}),o.Stack=function(){if(this.data=a(arguments),!(this instanceof o.Stack)){var t=Object.create(o.Stack.prototype);return o.Stack.apply(t,arguments),t}},o.Stack.prototype=Object.create(null,{push:{value:function(t){this.data.push(t)}},pop:{value:function(){return this.data.pop()}},peek:{get:function(){return this.data[this.data.length-1]}},deplete:{value:function(t){r.call(this,this.pop,t)}}}),o.Queue=function(){if(this.data=a(arguments),!(this instanceof o.Queue)){var t=Object.create(o.Queue.prototype);return o.Queue.apply(t,arguments),t}},o.Queue.prototype=Object.create(null,{enq:{value:function(t){this.data.push(t)}},deq:{value:function(){return this.data.shift()}},peek:{get:function(){return this.data[0]}},deplete:{value:function(t){r.call(this,this.deq,t)}}}),"undefined"!=typeof module&&module.exports&&(module.exports=o),"undefined"==typeof ender&&(this.ds=o),"function"==typeof define&&define.amd&&define("ds",[],function(){return o})}).call(this);